# Cloud-Storage - облачное хранилище файлов на PHP

Cloud-Storage — это веб-приложение, написанное на PHP и использующее самописный фреймворк, предоставляющее

---
- [Основные возможности](#Основные-возможности)
- [Скриншот главного экрана](#Скриншот-главного-экрана)
- [Технологии](#Технологии)
- [Установка](#Установка)
    - [Шаг 1: Скачивание проекта](#Шаг-1-Скачивание-проекта)
    - [Шаг 2: Настройка окружения](#Шаг-2-Настройка-окружения)
    - [Шаг 3: Установка зависимостей](#Шаг-3-Установка-зависимостей)
    - [Шаг 4: Настройка базы данных](#Шаг-4-Настройка-базы-данных)
    - [Шаг 5: Настройка сервиса email-рассылки](#Шаг-5-Настройка-сервиса-email-рассылки)
    - [Шаг 6: Запуск сервера](#Шаг-6-Запуск-сервера)
- [Документация API](#Документация-API)

---

## Основные возможности

- Хранение файлов на сервере
- Создание и управление структурой папок
- Обмен файлами с другими пользователями
- Контроль прав доступа
- Интеграция с любыми клиентскими приложениями через REST API

### Скриншот главного экрана
![img.png](Readme.png)

## Технологии
- Язык программирования: PHP >= 8.1
- Веб-сервер: Apache >= 2.4
- База данных: MySQL >= 8.0 / MariaDB >= 10.4+
- Архитектура: RESTFul API

## Установка
#### Шаг 1. Скачивание проекта
```bash
git clone https://github.com/ivfad/cloud.git
```

#### Шаг 2: Настройка окружения
Убедитесь, что у вас используются необходимые версии ПО:
- PHP 8.1+
- MySQL 8.0+
- Composer

#### Шаг 3. Установка зависимостей
```bash
composer install
```

#### Шаг 4: Настройка базы данных
Создайте новую базу данных в MySQL и настройте подключение в файле конфигурации:
```bash
Config/DbConfig.php
```
Пример настроек для подключения к базе данных `cloud-storage`:
```bash
    private string $username = 'root';
    private string $password = '';

    public function __construct(
        public string $host = 'localhost',
        public int    $port = 3306,
        public string $dbname = 'cloud-storage',
        public string $charset = 'utf8mb4')
    {
    }
```
Запустите ваш сервер базы данных.
Необходимые таблицы в базе данных создадутся автоматически при первом запуске приложения.

#### Шаг 5: Настройка сервиса email-рассылки
Выполните настройку в файле конфигурации для email-рассылки:
```bash
Config/MailerConfig.php
```
Пример настроек:
```bash
        public string $host = 'smtp.gmail.com',
        public string $username = 'example-email@gmail.com', 
        public string $password = 'examplePassword',
        public string $smtpSecure = PHPMailer::ENCRYPTION_STARTTLS,
        public int    $port = 587,
        public string $sendFromEmail = 'example-email@gmail.com',
        public string $sendFromName = 'Cloud storage',
        public string $mailSubject = 'Link to change your password from Cloud storage')
```
#### Шаг 6: Запуск сервера
Из директории с проектом запустите встроенный сервер PHP для тестирования:

```bash
php -S localhost:8000 -t public
```
Теперь приложение доступно по адресу: http://localhost:8000

#### Документация API
API предоставляет следующие endpoint'ы:

| Метод  | Маршрут                  | Описание                                                                       |
|--------|--------------------------|--------------------------------------------------------------------------------|
| GET    | /                        | Основная страница приложения                                                   |
| GET    | /register                | Страница регистрации нового пользователя                                       |
| POST   | /register                | Регистрация нового пользователя                                                |
| GET    | /users/list              | Список всех пользователей                                                      |
| GET    | /users/get/{id}          | Информация о конкретном пользователе                                           |
| GET    | /users/update            | Форма обновления профиля пользователя                                          |
| PUT    | /users/update            | Обновление профиля пользователя                                                |
| GET    | /login                   | Страница входа                                                                 |
| POST   | /login                   | Вход в систему                                                                 |
| GET    | /logout                  | Выход из системы                                                               |
| GET    | /reset_password          | Отправка сообщения на почту пользователя для сброса пароля                     |
| GET    | /admin/users/list        | Список пользователей с расширенной информацией, доступный для администратора   |
| GET    | /admin/users/get/{id}    | Расширенная информация о конкретном пользователе, доступная для администратора |
| PUT    | /admin/users/update/{id} | Обновление информации о конкретном пользователем, доступное для администратора |
| DELETE | /admin/users/delete/{id} | Удаление пользователя администратором                                          |

